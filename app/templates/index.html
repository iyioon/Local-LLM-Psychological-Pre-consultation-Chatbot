<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Psychological Pre-consultant</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
  </head>
  <body>
    <div class="app" role="application" aria-label="Psychological support chat">
      <header class="topbar">
        <div class="topbar-header">
          <h1>
            Psychological Pre-consultant
            <p>
              This session is private and not stored. Reload the page to start a
              new session.
            </p>
          </h1>
          <label class="switch theme-toggle" id="theme-toggle">
            <span class="sr-only">Toggle light and dark theme</span>
            <input
              id="theme-toggle-checkbox"
              type="checkbox"
              aria-label="Toggle light and dark theme"
              checked
            />
            <span class="slider">
              <span class="star star_1"></span>
              <span class="star star_2"></span>
              <span class="star star_3"></span>
              <svg viewBox="0 0 16 16" class="cloud_1 cloud" aria-hidden="true">
                <path
                  transform="matrix(.77976 0 0 .78395-299.99-418.63)"
                  fill="#fff"
                  d="m391.84 540.91c-.421-.329-.949-.524-1.523-.524-1.351 0-2.451 1.084-2.485 2.435-1.395.526-2.388 1.88-2.388 3.466 0 1.874 1.385 3.423 3.182 3.667v.034h12.73v-.006c1.775-.104 3.182-1.584 3.182-3.395 0-1.747-1.309-3.186-2.994-3.379.007-.106.011-.214.011-.322 0-2.707-2.271-4.901-5.072-4.901-2.073 0-3.856 1.202-4.643 2.925"
                ></path>
              </svg>
            </span>
          </label>
        </div>
        <button
          class="status-chip pending"
          id="connection-status"
          type="button"
          role="status"
          aria-live="polite"
        >
          <span class="circle">
            <span class="dot"></span>
            <span class="outline"></span>
          </span>
          <span class="status-text">Checking model status…</span>
        </button>
      </header>

      <main class="chat" aria-label="Conversation area">
        <section
          class="messages"
          id="messages"
          aria-live="polite"
          aria-label="Conversation history"
        >
          <div class="messages-overlay" id="disclaimer-overlay">
            <article class="disclaimer">
              <h3>IMPORTANT DISCLAIMER:</h3>
              <ul>
                <li>
                  I am not a licensed mental health professional or emergency
                  service.
                </li>
                <li>
                  I cannot diagnose conditions, prescribe medication, or provide
                  treatment plans.
                </li>
                <li>
                  If you share information suggesting danger, I will encourage
                  you to contact emergency resources.
                </li>
                <li>
                  I may make mistakes; please verify any critical information
                  with a qualified professional.
                </li>
              </ul>

              <h3>When to Seek Immediate Help:</h3>
              <ul>
                <li>
                  You or someone else is in danger or experiencing a medical
                  emergency.
                </li>
                <li>You're considering hurting yourself or another person.</li>
                <li>
                  You're experiencing severe symptoms such as hallucinations,
                  mania, or loss of control.
                </li>
                <li>You feel unable to stay safe where you are.</li>
              </ul>

              <h3>What I Can Offer:</h3>
              <ul>
                <li>Compassionate, non-judgmental listening.</li>
                <li>
                  Help organizing your thoughts before speaking with a
                  professional.
                </li>
                <li>General coping strategies and grounding techniques.</li>
                <li>
                  Gentle reminders about self-care and connecting with
                  supportive people.
                </li>
              </ul>
            </article>
          </div>
        </section>
        <form id="message-form" class="composer" autocomplete="off">
          <label for="message-input" class="sr-only"
            >How can we support you?</label
          >
          <div class="input-shell">
            <textarea
              id="message-input"
              name="message"
              placeholder="Share what’s on your mind…"
              required
            ></textarea>
            <div class="input-actions">
              <button id="send-button" type="submit" aria-label="Send message">
                <span class="paper-plane">➤</span>
              </button>
            </div>
          </div>
        </form>
      </main>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
